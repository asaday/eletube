<!DOCTYPE html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>test</title>
  </head>
  <body>
    data 
    <pre id="data"></pre>


    <script src="https://cdn.socket.io/3.1.3/socket.io.min.js" integrity="sha384-cPwlPLvBTa3sKAgddT6krw0cJat7egBga3DJepJyrLl4Q9/5WLra3rrnMcyTyOnh" crossorigin="anonymous"></script>
    <script>
      const socket = io("http://localhost:3000",{ path: "/socket/" });

      socket.on('chat', async (data) => {
        console.log('chat', data);
 //       stage.putOnStage(await stage.createComment(Date.now(), data.message));
        document.getElementById("data").innerText = JSON.stringify(data)
      });
      
      socket.on('error', (error) => {
        console.error(error);
      });

  // setInterval(async () => {
  //   const response = await fetch('http://localhost:3000/data')
  //   const json = await response.json()
  //   if(!Array.isArray(json)) return
  //   const text = json.join('\n')
  //   document.getElementById("data").innerText = text

  // }, 500);
  // websocketなどにまた

    </script>
  </body>
</html>
